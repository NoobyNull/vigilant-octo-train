# Requirements Archive: v1.3 AI Material UX & Fixes

**Milestone:** v1.3
**Completed:** 2026-02-21
**Status:** Shipped

---

## Requirements (all completed)

### AI Material UX (AIUX)

- [x] **AIUX-01**: Clicking Add opens a dialog with name input and "Generate with AI" as the primary action
- [x] **AIUX-02**: "Manual Entry" fallback opens the edit form with the typed name pre-filled
- [x] **AIUX-03**: AI-generated material opens edit form pre-filled for user review before saving
- [x] **AIUX-04**: Toolbar no longer has separate generate text input / wand icon (consolidated into Add dialog)

### AI Descriptor Integration (DESC)

- [x] **DESC-01**: AI descriptor service classifies materials with category metadata
- [x] **DESC-02**: LibraryManager resolves category chain from AI classification

### Infrastructure Fixes (FIX)

- [x] **FIX-01**: Gemini texture generation uses valid API fields (removed `imageSizeOptions`)
- [x] **FIX-02**: HTTP errors from Gemini API log status code and response body
- [x] **FIX-03**: GraphQLite extension loads from correct repository URL
- [x] **FIX-04**: Lint compliance and schema tests passing

---

## Traceability

| REQ-ID | Status | Notes |
|--------|--------|-------|
| AIUX-01 | Complete | Add dialog with name input + Generate button |
| AIUX-02 | Complete | Manual Entry button in Add dialog |
| AIUX-03 | Complete | setGeneratedResult populates edit form |
| AIUX-04 | Complete | Toolbar generate widget removed |
| DESC-01 | Complete | GeminiDescriptorService |
| DESC-02 | Complete | LibraryManager category chain |
| FIX-01 | Complete | Removed imageSizeOptions from API call |
| FIX-02 | Complete | HTTP status code + body logging |
| FIX-03 | Complete | GraphQLite repo URL corrected |
| FIX-04 | Complete | All 545 tests passing |
