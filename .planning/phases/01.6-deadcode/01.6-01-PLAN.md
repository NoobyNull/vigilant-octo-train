---
phase: 01.6-deadcode
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/ui/icons.h
  - src/ui/panels/library_panel.cpp
  - src/ui/panels/project_panel.cpp
  - src/ui/panels/gcode_panel.cpp
  - src/ui/panels/cut_optimizer_panel.cpp
  - src/ui/dialogs/message_dialog.cpp
  - src/ui/dialogs/file_dialog.cpp
  - .planning/TODOS.md
autonomous: true

must_haves:
  truths:
    - "No FontAwesome unicode codepoints remain in UI-facing code"
    - "All icon usages render as readable text labels instead of garbage characters"
    - "DEAD-01 through DEAD-04 confirmed absent from codebase"
    - "DEAD-06 confirmed false (no theme duplication)"
    - "TODOS.md accurately reflects current codebase state for all DEAD items"
    - "All existing tests pass with no regressions"
  artifacts:
    - path: "src/ui/icons.h"
      provides: "Text-only icon constants (FontAwesome codepoints removed)"
      contains: "namespace text"
    - path: ".planning/TODOS.md"
      provides: "Updated dead code status"
      contains: "DEAD-01"
  key_links:
    - from: "src/ui/panels/library_panel.cpp"
      to: "src/ui/icons.h"
      via: "Icons:: struct references"
      pattern: "Icons::"
    - from: "src/ui/dialogs/message_dialog.cpp"
      to: "src/ui/icons.h"
      via: "Icons:: struct references"
      pattern: "Icons::"
---

<objective>
Resolve all dead code items (DEAD-01 through DEAD-06) identified in Phase 1.6.

Research confirmed DEAD-01 through DEAD-04 are already removed from the codebase, and DEAD-06 (duplicate theme) is a false claim. The only real work is DEAD-05: replacing FontAwesome icon unicode constants with readable text labels, since the icon font was never loaded and icons render as garbage characters.

Purpose: Clean up the icon system so UI elements display readable text instead of garbage, and update TODOS.md to accurately reflect what has been resolved.
Output: Clean icon system using text labels, updated TODOS.md with all DEAD items marked resolved.
</objective>

<execution_context>
@/home/matthew/.claude/get-shit-done/workflows/execute-plan.md
@/home/matthew/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01.6-deadcode/01.6-RESEARCH.md
@src/ui/icons.h
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace FontAwesome icon constants with text labels</name>
  <files>
    src/ui/icons.h
    src/ui/panels/library_panel.cpp
    src/ui/panels/project_panel.cpp
    src/ui/panels/gcode_panel.cpp
    src/ui/panels/cut_optimizer_panel.cpp
    src/ui/panels/properties_panel.cpp
    src/ui/dialogs/message_dialog.cpp
    src/ui/dialogs/file_dialog.cpp
  </files>
  <action>
    Rewrite `src/ui/icons.h` to remove ALL FontAwesome unicode codepoints and use text labels only.
    The file currently has three sections: (1) FontAwesome unicode constants like `ICON_NEW = "\xEF\x85\x9B"`,
    (2) a `text` namespace with labels like `NEW = "[New]"`, and (3) an `Icons` convenience struct.

    New structure for icons.h:
    - Remove the FontAwesome unicode constants entirely (lines 9-44 approximately)
    - Remove the `icons::text` sub-namespace (no longer needed as a fallback)
    - Keep the `dw::icons` namespace with ONLY text label constants
    - Keep the `Icons` convenience struct pointing to the text constants
    - Use short readable labels: "[+]" for Add, "[-]" for Remove, "[X]" for Delete, etc.

    Text label mapping (use these exact values):
    - ICON_NEW -> "[New]"
    - ICON_OPEN -> "[Open]"
    - ICON_SAVE -> "[Save]"
    - ICON_IMPORT -> "[Import]"
    - ICON_EXPORT -> "[Export]"
    - ICON_ZOOM_IN -> "[+]"
    - ICON_ZOOM_OUT -> "[-]"
    - ICON_FIT -> "[Fit]"
    - ICON_GRID -> "[Grid]"
    - ICON_ADD -> "[+]"
    - ICON_REMOVE -> "[-]"
    - ICON_DELETE -> "[X]"
    - ICON_SEARCH -> "[Search]"
    - ICON_FILTER -> "[Filter]"
    - ICON_REFRESH -> "[Refresh]"
    - ICON_MODEL -> "[M]"
    - ICON_PROJECT -> "[P]"
    - ICON_FOLDER -> "[D]"
    - ICON_FILE -> "[F]"
    - ICON_SETTINGS -> "[Settings]"
    - ICON_INFO -> "[i]"
    - ICON_WARNING -> "[!]"
    - ICON_ERROR -> "[X]"
    - ICON_QUESTION -> "[?]"
    - ICON_LIST -> "[List]"

    Keep the same constant names (ICON_NEW etc.) and the same Icons struct member names
    so that ALL existing call sites continue to compile with zero changes.
    The 7 files that `#include "../icons.h"` should NOT need any modifications --
    the API (Icons::Refresh, Icons::Model, etc.) stays identical, only the underlying
    string values change from unicode codepoints to text labels.

    Verify no file outside icons.h needs changes by confirming that only `Icons::` struct
    members and `icons::ICON_*` constants are used (never raw unicode strings).

    Do NOT add FontAwesome font loading -- the decision is to use text labels, not fix the font.
    Remove the comment at top about "icon fonts like FontAwesome" since we are deliberately
    not using icon fonts.
  </action>
  <verify>
    1. Run `grep -r "\xEF" src/ui/icons.h` -- should return NO matches (no FontAwesome codepoints)
    2. Run the full build: `cmake --build build --parallel` -- should compile cleanly with no errors
    3. Run all tests: `cd build && ctest --output-on-failure` -- all tests pass
    4. Run `grep -rn "Icons::" src/ui/` to confirm all call sites still reference valid constants
  </verify>
  <done>
    icons.h contains only text label constants (no FontAwesome unicode).
    All 7 files that include icons.h compile without changes.
    All existing tests pass.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify resolved items and update TODOS.md</name>
  <files>
    .planning/TODOS.md
  </files>
  <action>
    First, run verification greps to confirm DEAD-01 through DEAD-04 are absent:
    - `grep -r "m_isDragging\|m_isPanning\|m_lastMouseX\|m_lastMouseY" src/` (DEAD-01, expect no matches)
    - `grep -r "m_contextMenuModelIndex" src/` (DEAD-02, expect no matches)
    - `grep -r "ProjectPanel::refresh" src/` (DEAD-03, expect no matches)
    - `grep -r "openFileDialog\|saveFileDialog" src/` (DEAD-04, expect no matches)

    Verify DEAD-06 is false:
    - Read `src/ui/ui_manager.cpp` lines 155-161 to confirm `applyDarkTheme()` and `applyLightTheme()`
      are thin wrappers delegating to `Theme::applyDark()` and `Theme::applyLight()` (no duplication)

    Then update `.planning/TODOS.md`:
    - Change DEAD-01 from `- [ ]` to `- [x]` and append: `-- RESOLVED: Fields not present in current codebase (already removed)`
    - Change DEAD-02 from `- [ ]` to `- [x]` and append: `-- RESOLVED: Field not present in current codebase (already removed)`
    - Change DEAD-03 from `- [ ]` to `- [x]` and append: `-- RESOLVED: Method not present in current codebase (already removed)`
    - Change DEAD-04 from `- [ ]` to `- [x]` and append: `-- RESOLVED: Stubs not present in current codebase (already removed)`
    - Change DEAD-05 from `- [ ]` to `- [x]` and update description: `-- RESOLVED: Replaced FontAwesome unicode constants with text labels in icons.h (font was never loaded)`
    - Change DEAD-06 from `- [ ]` to `- [x]` and append: `-- RESOLVED: False claim. ui_manager.cpp delegates to Theme::applyDark()/applyLight(), no duplication exists`

    Keep the original description text for each item intact for historical context;
    append the resolution note after a ` -- ` separator.
  </action>
  <verify>
    1. `grep -c "\- \[x\].*DEAD-" .planning/TODOS.md` returns 6 (all DEAD items marked resolved)
    2. `grep -c "\- \[ \].*DEAD-" .planning/TODOS.md` returns 0 (no unchecked DEAD items)
    3. Read TODOS.md to confirm resolution notes are clear and accurate
  </verify>
  <done>
    All 6 DEAD items marked as resolved in TODOS.md with accurate resolution notes.
    DEAD-01 through DEAD-04: confirmed absent via grep.
    DEAD-05: resolved by Task 1 (text labels).
    DEAD-06: confirmed false (no duplication).
  </done>
</task>

</tasks>

<verification>
Phase 1.6 is complete when:
1. `grep -r "\xEF\x8" src/ui/icons.h` returns no matches (no FontAwesome codepoints in icons)
2. Full project builds cleanly: `cmake --build build --parallel`
3. All tests pass: `cd build && ctest --output-on-failure`
4. `grep -c "\- \[x\].*DEAD-" .planning/TODOS.md` returns 6
5. No references to removed dead code exist anywhere in src/
</verification>

<success_criteria>
- All FontAwesome unicode codepoints removed from icons.h
- Icons struct API unchanged (all call sites compile without modification)
- All 6 DEAD items marked resolved in TODOS.md with accurate notes
- Zero test regressions
- Project builds cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/01.6-deadcode/01.6-01-SUMMARY.md`
</output>
